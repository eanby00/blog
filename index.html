<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="markdown-heading">
      <h1 class="heading-element">Github API</h1>
      <a
        id="user-content-github-api"
        class="anchor"
        aria-label="Permalink: Github API"
        href="#github-api"
        ><span aria-hidden="true" class="octicon octicon-link"></span
      ></a>
    </div>
    <div class="markdown-heading">
      <h2 class="heading-element">get Repository Content</h2>
      <a
        id="user-content-get-repository-content"
        class="anchor"
        aria-label="Permalink: get Repository Content"
        href="#get-repository-content"
        ><span aria-hidden="true" class="octicon octicon-link"></span
      ></a>
    </div>
    <div class="highlight highlight-source-js">
      <pre><span class="pl-s1">octokit</span>
  <span class="pl-kos">.</span><span class="pl-en">request</span><span class="pl-kos">(</span><span class="pl-s">"GET /repos/{owner}/{repo}/contents/{path}"</span><span class="pl-kos">,</span> <span class="pl-kos">{</span>
    <span class="pl-c1">owner</span>: <span class="pl-s">"eanby00"</span><span class="pl-kos">,</span>
    <span class="pl-c1">repo</span>: <span class="pl-s">"blog"</span><span class="pl-kos">,</span>
    <span class="pl-c1">path</span>: <span class="pl-s">"요구사항.md"</span><span class="pl-kos">,</span>
    <span class="pl-c1">headers</span>: <span class="pl-kos">{</span>
      <span class="pl-s">"X-GitHub-Api-Version"</span>: <span class="pl-s">"2022-11-28"</span><span class="pl-kos">,</span>
    <span class="pl-kos">}</span><span class="pl-kos">,</span>
  <span class="pl-kos">}</span><span class="pl-kos">)</span>
  <span class="pl-kos">.</span><span class="pl-en">then</span><span class="pl-kos">(</span><span class="pl-kos">(</span><span class="pl-s1">response</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">response</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre>
    </div>
    <p>
      <a
        target="_blank"
        rel="noopener noreferrer"
        href="./get%20content%20folder.png"
        ><img
          src="./get%20content%20folder.png"
          alt="img1"
          style="max-width: 100%"
      /></a>
    </p>
    <ul>
      <li>폴더의 경우 <code>data</code> 속성이 배열이다</li>
      <li>
        폴더의 경우 배열 속 객체에 <code>content</code> 값이 존재하지 않는다.
      </li>
    </ul>
    <br />
    <p>
      <a
        target="_blank"
        rel="noopener noreferrer"
        href="./get%20content%20file.png"
        ><img
          src="./get%20content%20file.png"
          alt="img2"
          style="max-width: 100%"
      /></a>
    </p>
    <ul>
      <li>파일의 경우 <code>data</code> 속성이 객체다.</li>
      <li>파일의 경우 <code>content</code>로 데이터가 저장되어 있다.</li>
    </ul>
    <br />
    <div class="markdown-heading">
      <h2 class="heading-element">get Repository Tree</h2>
      <a
        id="user-content-get-repository-tree"
        class="anchor"
        aria-label="Permalink: get Repository Tree"
        href="#get-repository-tree"
        ><span aria-hidden="true" class="octicon octicon-link"></span
      ></a>
    </div>
    <div class="highlight highlight-source-js">
      <pre><span class="pl-c">// 실행 예시</span>
<span class="pl-s1">octokit</span>
  <span class="pl-kos">.</span><span class="pl-en">request</span><span class="pl-kos">(</span><span class="pl-s">"GET /repos/{owner}/{repo}/git/trees/{tree_sha}"</span><span class="pl-kos">,</span> <span class="pl-kos">{</span>
    <span class="pl-c1">owner</span>: <span class="pl-s">"eanby00"</span><span class="pl-kos">,</span>
    <span class="pl-c1">repo</span>: <span class="pl-s">"blog"</span><span class="pl-kos">,</span>
    <span class="pl-c1">tree_sha</span>: <span class="pl-s">"main"</span><span class="pl-kos">,</span>
    <span class="pl-c1">headers</span>: <span class="pl-kos">{</span>
      <span class="pl-s">"X-GitHub-Api-Version"</span>: <span class="pl-s">"2022-11-28"</span><span class="pl-kos">,</span>
    <span class="pl-kos">}</span><span class="pl-kos">,</span>
  <span class="pl-kos">}</span><span class="pl-kos">)</span>
  <span class="pl-kos">.</span><span class="pl-en">then</span><span class="pl-kos">(</span><span class="pl-kos">(</span><span class="pl-s1">response</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s1">response</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre>
    </div>
    <p>
      <a target="_blank" rel="noopener noreferrer" href="./get%20tree.png"
        ><img src="./get%20tree.png" alt="img" style="max-width: 100%"
      /></a>
    </p>
    <ul>
      <li>
        데이터의 <code>type</code>이 <code>blob</code>이라면 파일이며,
        <code>url</code>을 통해 접근해서 내부의 <code>content</code>를
        디코딩해야 한다.
      </li>
      <li>
        데이터의 <code>type</code>이 <code>tree</code>라면 폴더이며,
        <code>url</code>을 통해 접근해서 내부의 <code>tree</code>에 접근해야
        한다.
      </li>
    </ul>
  </body>
</html>
